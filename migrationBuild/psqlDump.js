!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){e.exports=require("fs")},function(e,n){e.exports=require("pg")},function(e,n,t){"use strict";t.r(n);var r=t(1),i=t(0),o=function(e,n,t,r){return new(t||(t=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,s)}u((r=r.apply(e,n||[])).next())})};4!==process.argv.length&&(console.log("Usage: node psqlDump.js CONFIG_FILE DUMP_FILE"),process.exit(1));const a=JSON.parse(i.readFileSync(process.argv[2],{encoding:"utf8"})),s=new r.Client(a);!function(){o(this,void 0,void 0,function*(){yield s.connect();try{const e=yield s.query("SELECT * FROM players"),n=e.rows.map(e=>({id:e.id,firstName:e.first_name,lastName:e.last_name})),t=yield s.query("SELECT * FROM hand"),r=t.rows.map(e=>({id:e.id,timestamp:e.timestamp,players:e.players,bidder:e.bidder_fk_id,partner:e.partner_fk_id||void 0,bidAmount:e.bid_amt,points:e.points,slam:!!e.slam})),o=yield s.query("SELECT * FROM player_hand"),a=o.rows.map(e=>({id:e.id,timestamp:e.timestamp,hand:e.hand_fk_id,player:e.player_fk_id,isBidder:e.was_bidder,isPartner:e.was_partner,showed:e.showed_trump,oneLast:e.one_last,points:e.points_earned})),u={players:n,hands:r,playerHands:a},d=JSON.stringify(u);console.log("Writing "+d.length+" characters to file "+process.argv[3]),i.writeFileSync(process.argv[3],d,{encoding:"utf8"})}finally{s.end()}})}()}]);